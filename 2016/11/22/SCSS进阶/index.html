<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="/css/blog.css">
    <link rel="stylesheet" href="/css/fonts/iconfont.css">
    <!--<link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">-->
    <link rel="stylesheet" href="//cdn.bootcss.com/fancybox/3.1.25/jquery.fancybox.min.css">
    <script src="/js/require.js" data-main="/js/main"></script>
</head>
<body>
<div id="blog" class="page page-theme-base" v-cloak>
    <blog-header></blog-header>
    <header class="page_hd" data-v-04342fbc="">
    <div class="container header" data-v-04342fbc="">
        <h1 class="logo" data-v-04342fbc="">
            <a href="/" class="nuxt-link-exact-active nuxt-link-active" data-v-04342fbc="">橙红年代</a>
        </h1>
        <div class="show-md" data-v-04342fbc="">
            <div class="btn-list" data-v-04342fbc="">
                <div class="btn-icon" data-v-04342fbc="">
                    <span class="btn-line" data-v-04342fbc=""></span>
                    <span class="btn-line" data-v-04342fbc=""></span>
                    <span class="btn-line" data-v-04342fbc=""></span>
                </div>
            </div>
        </div>
        <nav class="nav-responsive" data-v-04342fbc="">
            
            <a class="nav_item" href="/">首页</a>
            
            <a class="nav_item" href="/archives">归档</a>
            
            <a class="nav_item" href="/tags">标签</a>
            
            <a class="nav_item" href="/test">Test</a>
            
        </nav>
    </div>
</header>
    <main class="page_mn" >
        <div class="container">
            <article class="article article-detail">
    <header class="text-center">
        <h2 class="article_hd">SCSS进阶</h2>
        <div class="article_info">
            <span class="hide-sm">发表于</span>
            <span class="show-sm">
                <i class="iconfont icon-archives"></i>
            </span>
            <time>2016/11/22 22:53:18</time>
            |
            <span class="hide-sm">分类于</span>
            <span class="show-sm"><i class="iconfont icon-tag"></i></span>
            
                <a href="/categories/CSS" class="hover-highlight">CSS</a>
            

        </div>
    </header>
    <div class="article_ct">
        <p>最近阅读了一个按钮样式库<a href="http://www.bootcss.com/p/buttons/" target="_blank" rel="external"><code>button.css</code></a>，尽管源码是用scss写的，我却看懵了：别人写的scss和我写的完全不一样啊，各种数组各种循环…！原本以为会用混合器和继承就差不多了，实际上还差的远了去了。然而之前看的教程文档上也只有这些基础，然后一通查询，摸索了一些关于SCSS进阶的方法，整理如下。<br><a id="more"></a></p>
<p>参考资料：</p>
<ul>
<li><a href="http://www.cnblogs.com/rubylouvre/p/3794292.html" target="_blank" rel="external">sass学习笔记-司徒正美</a>。</li>
<li><a href="http://sass.bootcss.com/docs/sass-reference/" target="_blank" rel="external">scss中国</a>    </li>
<li><a href="http://sass-lang.com/documentation/Sass/Script/Functions.html" target="_blank" rel="external">官方函数文档</a>。</li>
</ul>
<h2 id="占位符"><a href="#占位符" class="headerlink" title="占位符"></a>占位符</h2><h3 id="变量占位符"><a href="#变量占位符" class="headerlink" title="变量占位符"></a>变量占位符</h3><p>sass使用PHP风格的$开头的变量命名风格，使用ruby风格<code>#{ }</code>占位符，占位符非常强大，可以用来拼接相应的属性，属性值甚至是选择器名称，然而占位器最主要的作用是用来构建可重用的样式!<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$base: &apos;.txm&apos;;</div><div class="line">#&#123;$base&#125;-list &#123;</div><div class="line">    list-style: none;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="继承占位符"><a href="#继承占位符" class="headerlink" title="继承占位符"></a>继承占位符</h3><p>正确使用<code>extend</code>可以生成分组选择器，节省很多代码量，但是有时候，我们想使用extend的功能，却不想输出继承的那个父类，这时就可以使用<code>%</code>类占位符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">%col &#123;</div><div class="line">    float: left;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.col-1 &#123;</div><div class="line">    @extend %col;</div><div class="line">    width: 100px;</div><div class="line">&#125;</div><div class="line">.col-2 &#123;</div><div class="line">    @extend %col;</div><div class="line">    width: 200px;</div><div class="line">&#125;</div><div class="line">// 这时就只会生成.col-1和.col-2，而不会生成单独的.col，十分方便</div></pre></td></tr></table></figure></p>
<h2 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h2><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>sass的数组,没有用使用[]包起来，而是通过空格来划分元素；如果是二维组数，则需要用到小括号与逗号。<br>sass的数组有一个特点，，也不能用[]来取其中的某一个元素，而是使用<code>nth()</code>内置方法,其索引值是从1开始（而不是大多数编程语言的数组从0开始）。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$base: &apos;.txm&apos;;</div><div class="line">$list1: 5px 10px 15px 20px; // 一维数组</div><div class="line">$list2: 5px 10px, 15px 20px; // 二维数组</div><div class="line">$list3: (5px 10px) (20px 30px); // 同上，二维数组的另外一种表示方法</div><div class="line">#&#123;$base&#125;-list &#123;</div><div class="line">    list-style: none;</div><div class="line">    padding: nth($list1,1); // 5px</div><div class="line">    margin: nth($list2,2); // 15px 20px</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>除了<code>nth</code>方法之外还有几个其他的常用方法:</p>
<ul>
<li><p>index($list, $value)，获取目标值的索引,从1开始</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$list1: 1px 2px 5px;</div><div class="line">index($list1,5px); // 3</div><div class="line">index($list1,10px); //找不到，则不会输出，应用该表达式的样式规则也不会在CSS文件中显示出来</div></pre></td></tr></table></figure>
</li>
<li><p>length($list)，获取数组长度，一般会搭配循环使用（实际上数组这个数据结构也许都是主要应用在循环生成多条样式规则上的）</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">length($list1); // 3</div></pre></td></tr></table></figure>
</li>
<li><p>join($list1, $list2)，连接两个数组,第三个参数可以指定分割符(comma,space)。如果不指定则会自动判断使用逗号还是空格(貌似是根据第一个数组的类型来判断：一维数组则使用空格，二维数组则使用逗号。如果不确定，最好还是显式声明分割符。</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$list1: 1px , 2px;</div><div class="line">$list2: 3px 4px;</div><div class="line">join($list1, $list2); // 1px, 2px, 3px, 4px</div><div class="line">join($list1, $list2, space); //1px 2px 3px 4px</div><div class="line">join($list1, $list2, comma); // 1px 2px 3px 4px</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>scss对象与JSON十分相似，区别在于使用<code>()</code>而不是<code>{}</code>来表示，对象提供了大量的函数，基本上都是以<code>map-</code>开头的</p>
<ul>
<li><p>map-get(obj,key)获取对象的某个属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$heading: (h1: 2em, h2: 1.5em, h3: 1.2em);</div><div class="line">font-size: map-get($heading,h1); // 2em</div></pre></td></tr></table></figure>
</li>
<li><p>map-keys(obj)和map-values(obj)返回对象的全部键名或键值，以一维数组表示</p>
</li>
</ul>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><p>使用@if，@else, @for，@each和@while来表示流程控制</p>
<h3 id="条件"><a href="#条件" class="headerlink" title="条件"></a>条件</h3><p>@if后面的变量如果为真，则执行相应代码块，否则执行@else后面的代码块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$flag: true;</div><div class="line">.list&#123;</div><div class="line">    @if $flag &#123;</div><div class="line">        list-style: square;</div><div class="line">    &#125;@else &#123;</div><div class="line">        list-style: none;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>此外除了@if逻辑运算符，还有一个函数if()，可用于模拟三目运算符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if(unitless($width), $width + px, $width); // 判断$width是否有单位，没有单位则添加&apos;px&apos;</div></pre></td></tr></table></figure></p>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><p>循环有三种形式：@for,@each和@while<br>for循环与JS类似，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">$name: .t-col;</div><div class="line">// to相当于开区间</div><div class="line">@for $i from 1 to 5 &#123;</div><div class="line">    #&#123;$name&#125;-#&#123;$i&#125; &#123;</div><div class="line">        float: left;</div><div class="line">        border: #&#123;$i&#125;px solid #dedede;</div><div class="line">        width: percentage(1/$i);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">// through相当于闭区间，包含结束值，比to多执行一次</div><div class="line">@for $i from 1 through 5 &#123;</div><div class="line">    #&#123;$name&#125;-#&#123;$i&#125; &#123;</div><div class="line">        float: left;</div><div class="line">        border: #&#123;$i&#125;px solid #dedede;</div><div class="line">        width: percentage(1/$i);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>@each 是用于遍历数组与对象的。如果是遍历对象，后面跟着两个变量，分别是键名与键值，逗号隔开，接着是in，最后是对象名。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$colorArr: red blue yellow;</div><div class="line">@each $color in $colorArr &#123;</div><div class="line">	.bg-#&#123;$color&#125; &#123;</div><div class="line">		background-color: $color;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">@each $key, $val in (h1: 2em, h2: 1.5em, h3: 1.2em) &#123;</div><div class="line">	#&#123;$key&#125; &#123;</div><div class="line">		font-size: $val;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>@while循环与JS也十分相似<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$nums: 4;</div><div class="line">@while $nums &gt; 0 &#123;</div><div class="line">	.while-#&#123;$nums&#125; &#123;</div><div class="line">		width: $nums * 10px;</div><div class="line">	&#125;</div><div class="line">	$nums: $nums - 1;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="功能函数"><a href="#功能函数" class="headerlink" title="功能函数"></a>功能函数</h3><p>整理了几个比较常用的函数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">unquote($string); // 去除字符串</div><div class="line">quote($string); // 为字符串添加引号</div><div class="line"></div><div class="line">percentage($number); // 生成百分数</div><div class="line">round($number); // 四舍五入取最接近的整肃</div><div class="line">ceil($number)；// 向上取整</div><div class="line">floor($number); // 向下取整</div><div class="line"></div><div class="line">join($list1,$list2[,separator]); // 连接数组</div><div class="line">index($list,$val); // 返回对应元素的索引</div><div class="line">length($list); // 返回数组长度</div><div class="line"></div><div class="line">map-get($map,$key); // 获取相应键名的键值</div><div class="line">map-keys($map); // 返回对象的键名数组</div><div class="line">map-values($map); // 返回对象的键值数组</div></pre></td></tr></table></figure></p>
<h3 id="颜色函数"><a href="#颜色函数" class="headerlink" title="颜色函数"></a>颜色函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 饱和度通过灰色成分调节，而亮度用加白加黑来调节。</div><div class="line">desaturate($color,5%); // 减少颜色饱和度</div><div class="line">saturate($color, $amount)； // 增减颜色饱和度</div><div class="line">darken($color,6%); // 使颜色变暗</div><div class="line">lighten(color,6%); // 使颜色变亮</div></pre></td></tr></table></figure>
<h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><p>SCSS允许我们自定义函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@function double($n) &#123;</div><div class="line">　　@return $n * 2;</div><div class="line">&#125;</div><div class="line">.test &#123;</div><div class="line">　　width: double(5px);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>自定义函数是一个十分强大的功能，我目前使用到的最多的地方就是使用单位转换：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">@function rem($pxVal)&#123;</div><div class="line">	@return 1rem * $pxVal/75;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这样就不需要再使用其他插件或者计算，就可以轻松实现rem布局了，函数的其他作用我正在探索中。</p>

    </div>
    <footer class="article_ft">
        
        <a href="/tags/SCSS" class="article_tag">#SCSS</a>
        
    </footer>

    <div class="article_nav"><a href="/article/mockjs使用心得" class="hover-highlight article_prev">mockjs使用心得</a><a
                href="/article/博客SSR实践总结" class="hover-highlight article_next">博客SSR实践总结</a></div>
</article>
        </div>
    </main>

    <aside>
    <div class="page_sd hide-md">
        <div class="tab">
            <!---->
            
            <ul class="tab_nav">
                <li class="tab_item active" data-target="#J_toc">
                    文章目录
                </li>
                <li class="tab_item" data-target="#J_profile">
                    站点资料
                </li>
            </ul>
            <div class="tab_panel active" id="J_toc">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#占位符"><span class="toc-number">1.</span> <span class="toc-text">占位符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#变量占位符"><span class="toc-number">1.1.</span> <span class="toc-text">变量占位符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#继承占位符"><span class="toc-number">1.2.</span> <span class="toc-text">继承占位符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据结构"><span class="toc-number">2.</span> <span class="toc-text">数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数组"><span class="toc-number">2.1.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象"><span class="toc-number">2.2.</span> <span class="toc-text">对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#流程控制"><span class="toc-number">3.</span> <span class="toc-text">流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#条件"><span class="toc-number">3.1.</span> <span class="toc-text">条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#循环"><span class="toc-number">3.2.</span> <span class="toc-text">循环</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数"><span class="toc-number">4.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#功能函数"><span class="toc-number">4.1.</span> <span class="toc-text">功能函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#颜色函数"><span class="toc-number">4.2.</span> <span class="toc-text">颜色函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义函数"><span class="toc-number">4.3.</span> <span class="toc-text">自定义函数</span></a></li></ol></li></ol>
            </div>
            
            <div class="tab_panel " id="J_profile">
                <div>
                    <div class="me">
                        <img src="http://shymean.com/_nuxt/img/head.dd612ee.jpg" alt="shymean" width="100" height="100">
                        <h3>shymean</h3>
                        <p>一个不学无术且无趣的人。</p>
                    </div>
                    <div class="nav-border">
                        <a href="/book" class="nav_item">
                            <i class="iconfont icon-bookshelf"></i>
                            <br>书架
                        </a>
                        <a href="/message" class="nav_item">
                            <i class="iconfont icon-comment"></i>
                            <br>留言
                        </a>
                        <a href="/about" class="nav_item">
                            <i class="iconfont icon-info"></i>
                            <br>关于
                        </a>
                    </div>
                    <div class="contact">
                        <a href="https://github.com/tangxiangmin" target="_blank" class="contact_link">
                            <i class="iconfont icon-github"></i> GitHub</a>
                        <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=645234650&amp;site=qq&amp;menu=yes"
                            target="_blank" class="contact_link">
                            <i class="iconfont icon-qq"></i> QQ</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="tool">
        <div class="btn-list hide-md" id="J_toggleSide">
            <div class="btn-icon">
                <span class="btn-line"></span>
                <span class="btn-line"></span>
                <span class="btn-line"></span>
            </div>
        </div>
        <div class="btn-top">
            <i class="iconfont icon-top"></i>
        </div>
    </div>
</aside>
    <footer class="page_ft">
    <div class="container footer">
        <p>世人的悲欢并不相通，我只是觉得他们吵闹。</p>
        <p>
            Copyright © Shymean 2016 - 2017
            <a href="http://www.miitbeian.gov.cn" rel="nofollow" target="_blank" style="display:inline-block;">粤ICP备17060238号-1</a>
        </p>
    </div>
    <div class="hide-xs">
        <script src="https://s19.cnzz.com/z_stat.php?id=1264491168&amp;web_id=1264491168" language="JavaScript"></script>
    </div>
</footer>

</div>

</body>
</html>