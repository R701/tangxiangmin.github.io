<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="/css/blog.css">
    <link rel="stylesheet" href="/css/fonts/iconfont.css">
    <!--<link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">-->
    <link rel="stylesheet" href="//cdn.bootcss.com/fancybox/3.1.25/jquery.fancybox.min.css">
    <script src="/js/require.js" data-main="/js/main"></script>
</head>
<body>
<div id="blog" class="page page-theme-base" v-cloak>
    <blog-header></blog-header>
    <header class="page_hd" data-v-04342fbc="">
    <div class="container header" data-v-04342fbc="">
        <h1 class="logo" data-v-04342fbc="">
            <a href="/" class="nuxt-link-exact-active nuxt-link-active" data-v-04342fbc="">橙红年代</a>
        </h1>
        <div class="show-md" data-v-04342fbc="">
            <div class="btn-list" data-v-04342fbc="">
                <div class="btn-icon" data-v-04342fbc="">
                    <span class="btn-line" data-v-04342fbc=""></span>
                    <span class="btn-line" data-v-04342fbc=""></span>
                    <span class="btn-line" data-v-04342fbc=""></span>
                </div>
            </div>
        </div>
        <nav class="nav-responsive" data-v-04342fbc="">
            
            <a class="nav_item" href="/">首页</a>
            
            <a class="nav_item" href="/archives">归档</a>
            
            <a class="nav_item" href="/tags">标签</a>
            
        </nav>
    </div>
</header>
    <main class="page_mn" >
        <div class="container">
            <article class="article article-detail">
    <header class="text-center">
        <h2 class="article_hd">Objective-C基础入门</h2>
        <div class="article_info">
            <span class="hide-sm">发表于</span>
            <span class="show-sm">
                <i class="iconfont icon-archives"></i>
            </span>
            <time>2017/11/27 23:40:41</time>
            |
            <span class="hide-sm">分类于</span>
            <span class="show-sm"><i class="iconfont icon-tag"></i></span>
            
                <a href="/categories/iOS" class="hover-highlight">iOS</a>
            

        </div>
    </header>
    <div class="article_ct">
        <p>最新需要适配iPhoneX相关的webiview页面，由于没有真机(九千大洋的手机简直了~)，为了测试及检验适配效果，决定学习iOS开发并在模拟器上对页面进行适配。大概看了一下iOS的Demo代码，感觉<code>Objective-C</code>的语言风格有点魔幻，因此在这里稍作梳理。我只是抱着能在APP中运行webview的目的而已~</p>
<p>&lt;!—more—&gt;</p>
<p> 发现一个很奇特的现象，与其他语言相比，网上关于OC基础教程居然很少～</p>
<h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><p>目前使用的是<code>Xcode</code>(Version 9.0.1 (9A1004))进行开发</p>
<ul>
<li>使用<code>XCode</code>集成开发环境，<code>新建项目</code>-&gt;<code>Mac OS Application项目</code>-&gt;<code>Command Line项目</code>即可</li>
<li><code>XCode</code>设置字体时，可以<code>command + A</code>全选所有，然后统一设置字体,</li>
</ul>
<p>感觉编译还是挺快的，跟写web刷新一下页面的速度差不多，不过没有<code>livereload</code>、热更新等插件，哈哈~</p>
<h2 id="简单梳理"><a href="#简单梳理" class="headerlink" title="简单梳理"></a>简单梳理</h2><ul>
<li>OC跟C++类似，均为C语言的扩展，尽管已经有30多年的历史了，但国内大多数人接触并学习OC是起源于2010年之后（iPhone发布）</li>
<li><code>@</code>符号在OC中有特殊用法，编译器会找到他然后做特殊处理，比如区分C字符串和OC字符串</li>
<li>声明变量及初始化与C语言十分相似, 相关运算符也基本通用，支持变量随用随声明</li>
<li>基本数据类型，包括<code>int</code>,<code>float</code>,<code>double</code>,<code>char</code></li>
<li>限定词<code>long</code>,<code>long long</code>,<code>short</code>,<code>sunsigned</code>,<code>signed</code></li>
<li>分支运算与循环运算与C基本相似,OC居然支持goto!!!</li>
<li>函数定义包括返回类型，函数名和形参类型，包括完整的函数签名，貌似函数不支持默认参数</li>
<li><code>NSLog</code>输出变量使用<code>NSLog(@&quot;%@&quot;, varName)</code></li>
</ul>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p>这里参考： <a href="http://www.cnblogs.com/QianChia/p/5780671.html" target="_blank" rel="external">iOS - OC 面向对象语法</a>。</p>
<p>PS：写OC代码的感觉就是不用按住Shift键来输入小括号了，这个感觉确实不错，虽然写其他语言的代码习惯了。</p>
<h3 id="类的声明和实现"><a href="#类的声明和实现" class="headerlink" title="类的声明和实现"></a>类的声明和实现</h3><p>类的声明和实现是分开的，以<code>.h</code>文件和<code>.m</code>文件区分</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">// person.h</div><div class="line">@interface Person: NSObject&#123;</div><div class="line">  	// 成员变量</div><div class="line">    @private</div><div class="line">        int _age;</div><div class="line">    @public</div><div class="line">        NSString *_name;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 方法声明</div><div class="line"></div><div class="line">// 构造函数</div><div class="line">- (id)initWithAgeAndName:(int)age name:(NSString *)name;</div><div class="line"></div><div class="line">// 静态方法</div><div class="line">+ (Person *)getInstance;</div><div class="line"></div><div class="line">// setter和getter</div><div class="line">- (int)age;</div><div class="line">- (void)setAge: (int)age;</div><div class="line"></div><div class="line">- (void)setName: (NSString *)name;</div><div class="line"></div><div class="line">- (void)introduceSelf;</div><div class="line">- (void)greet:(NSString *)name age:(int)age;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line">// person.m</div><div class="line">#import &quot;Person.h&quot;</div><div class="line"></div><div class="line">@implementation Person: NSObject</div><div class="line"></div><div class="line">// 方法实现，回忆起了重写一遍方法声明的恐惧吗</div><div class="line">- (id)initWithAgeAndName:(int)age name:(NSString *)name&#123;</div><div class="line">    if(self = [super init])&#123;</div><div class="line">        _age = age;</div><div class="line">        _name = name;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return self;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 使用静态方法实现单例</div><div class="line">static Person *person;</div><div class="line">+ (Person *) getInstance&#123;</div><div class="line">    if (person == nil)&#123;</div><div class="line">        person = [[Person alloc] init];</div><div class="line">    &#125;</div><div class="line">    return person;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (int) age &#123;</div><div class="line">    return _age;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (int) age &#123;</div><div class="line">    return _age;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)setAge:(int)age &#123;</div><div class="line">    _age = age;</div><div class="line">&#125; </div><div class="line"></div><div class="line">- (void)setName:(NSString *)name &#123;</div><div class="line">    _name = name;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)greet:(NSString *)name age:(int)age &#123;</div><div class="line">    NSLog(@&quot;Hello %@, you are %d years old&quot;,name, age);</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 这里没有在类中声明该方法，也可以通过编译</div><div class="line">- (void)nothing&#123;</div><div class="line">    NSLog(@&quot;Nothing&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)introduceSelf &#123;</div><div class="line">    NSLog(@&quot;My name is %@&quot;, _name);</div><div class="line">  	// 通过self关键字访问当前对象</div><div class="line">    [self nothing];</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">#import &quot;Person.h&quot;</div><div class="line">int main(int argc, const char * argv[]) &#123;</div><div class="line">    @autoreleasepool &#123;</div><div class="line">        Person *p1 = [[Person alloc] init]; // init 是NSObject的默认构造函数</div><div class="line">        </div><div class="line">      	// 方法调用</div><div class="line">        [p1 setAge:10];</div><div class="line">        int age = [p1 age];</div><div class="line">      </div><div class="line">        // int age = p1.age; // 与[p1 age]等价</div><div class="line">        NSLog(@&quot;%d&quot;, age);</div><div class="line">      </div><div class="line">      	NSString *str = [[NSString alloc] initWithFormat:@&quot;%@&quot;,@&quot;Txm&quot;];</div><div class="line">        [p1 greet: str age:24];</div><div class="line">        [p1 setName:str];</div><div class="line">      	// 使用公共属性</div><div class="line">        NSLog(@&quot;%@&quot;, p1-&gt;_name);</div><div class="line">      	</div><div class="line">      	// 使用构造函数</div><div class="line">      	Person *p2 = [[Person alloc] initWithAgeAndName:24 name:@&quot;Txm&quot;];</div><div class="line">        [p2 introduceSelf];</div><div class="line">      	</div><div class="line">      	// 以类名直接调用静态方法</div><div class="line">      	Person *p3 = [Person getInstance];</div><div class="line">        Person *p4 = [Person getInstance];</div><div class="line">        </div><div class="line">        NSLog(@&quot;%@&quot;, p3 == p4 ? @&quot;same&quot; : @&quot;different&quot;);</div><div class="line">    &#125;</div><div class="line">    return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可以发现类的定义和实现与C++比较相似，除了写法略有区别之外。而实例化对象和方法调用就有很大的差别了</p>
<ul>
<li>减号方法，指普通对象方法声明；加号方法，指类的静态方法声明</li>
<li>OC中的点语法是Xcode的高级功能，它将点语法会自动转换成getter，setter方法，这意味着使用点方法必须有两个条件：<ul>
<li>必须是属性</li>
<li>有对应的setter和getter</li>
</ul>
</li>
</ul>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p>访问权限也是通过<code>protect</code>,<code>private</code>,<code>public</code>来实现的，这里的做法和使用方式跟C++比较相似</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">@private</div><div class="line">	int _age;</div><div class="line">@public</div><div class="line">	NSString *_name;</div></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="keyword">int</span> a;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">	<span class="keyword">int</span> b;</div></pre></td></tr></table></figure>
<p>不同的是，OC中的方法是没有修饰符的概念的，默认均为public访问，这跟其他面向对象语言略有差异。实现私有方法的方法是：在<code>.m</code>文件中实现该方法，却不在<code>.h</code>文件中声明该方法（比如上面例子中的<code>nothing</code>方法）。</p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>OC是单继承，通过<code>super</code>关键字指向父类，该关键字的含义是变化的，指向当前的调用者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// student.h</div><div class="line">#import &quot;Person.h&quot;</div><div class="line"></div><div class="line">@interface Student : Person</div><div class="line">&#123;</div><div class="line">    int _grade;</div><div class="line">&#125;</div><div class="line">- (int) grade;</div><div class="line">- (void) setGrade:(int)grade;</div><div class="line"></div><div class="line">// 覆盖父类方法</div><div class="line">- (void)introduceSelf;</div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">// Student.m</div><div class="line">#import &quot;Student.h&quot;</div><div class="line"></div><div class="line">@implementation Student</div><div class="line"></div><div class="line">- (int) grade&#123;</div><div class="line">    return _grade;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void) setGrade:(int) grade&#123;</div><div class="line">    _grade = grade;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)introduceSelf &#123;</div><div class="line">  	// super关键字调用父类，父类方法中的self不受影响</div><div class="line">    [super introduceSelf];</div><div class="line">    NSLog(@&quot;I&apos;m student&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// main.m</div><div class="line">Student *st = [[Student alloc] init];</div><div class="line">[st setGrade:100];</div><div class="line">[st setName:@&quot;Txm&quot;];</div><div class="line"></div><div class="line">NSLog(@&quot;grade is %d&quot;, st.grade);</div><div class="line"></div><div class="line">// 调用父方法</div><div class="line">[st greet:@&quot;Txm&quot; age:24];</div><div class="line">// 覆盖父类方法并调用</div><div class="line">[st introduceSelf];</div></pre></td></tr></table></figure>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>多态是一个非常重要的特性。OC中的多态比C++要简单很多。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Person *p5;</div><div class="line">// p5 = [[Person alloc] init]; </div><div class="line">p5 = [[Student alloc] init];</div><div class="line"></div><div class="line">[p5 setName:@&quot;Txm&quot;];</div><div class="line">[p5 introduceSelf]; // 根据对象具体的类型调用其方法</div></pre></td></tr></table></figure>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>尽管OC的写法跟之前学习的其他语言有比较大的出入（C++我忘得一干二净了），但是我觉得：面向对象的特性与语言无关，抛开语言特性，大部分东西都是相同的，因此不必过于拘泥于语法。</p>
<p>不要忘记初衷啊~我只是想试试IOS的webview，学iOS开发真的不是我的本意…</p>

    </div>
    <footer class="article_ft">
        
        <a href="/tags/OC基础" class="article_tag">#OC基础</a>
        
    </footer>

    <div class="article_nav"><a href="/article/mockjs使用心得" class="hover-highlight article_prev">mockjs使用心得</a><a
                href="/article/博客SSR实践总结" class="hover-highlight article_next">博客SSR实践总结</a></div>
</article>
        </div>
    </main>

    <aside>
    <div class="page_sd hide-md">
        <div class="tab">
            <!---->
            
            <ul class="tab_nav">
                <li class="tab_item active" data-target="#J_toc">
                    文章目录
                </li>
                <li class="tab_item" data-target="#J_profile">
                    站点资料
                </li>
            </ul>
            <div class="tab_panel active" id="J_toc">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#开发环境"><span class="toc-number">1.</span> <span class="toc-text">开发环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#简单梳理"><span class="toc-number">2.</span> <span class="toc-text">简单梳理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#面向对象"><span class="toc-number">3.</span> <span class="toc-text">面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#类的声明和实现"><span class="toc-number">3.1.</span> <span class="toc-text">类的声明和实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#封装"><span class="toc-number">3.2.</span> <span class="toc-text">封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#继承"><span class="toc-number">3.3.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多态"><span class="toc-number">3.4.</span> <span class="toc-text">多态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#小结"><span class="toc-number">4.</span> <span class="toc-text">小结</span></a></li></ol>
            </div>
            
            <div class="tab_panel " id="J_profile">
                <div>
                    <div class="me">
                        <img src="http://shymean.com/_nuxt/img/head.dd612ee.jpg" alt="shymean" width="100" height="100">
                        <h3>shymean</h3>
                        <p>一个不学无术且无趣的人。</p>
                    </div>
                    <div class="nav-border">
                        <a href="/book" class="nav_item">
                            <i class="iconfont icon-bookshelf"></i>
                            <br>书架
                        </a>
                        <a href="/message" class="nav_item">
                            <i class="iconfont icon-comment"></i>
                            <br>留言
                        </a>
                        <a href="/about" class="nav_item">
                            <i class="iconfont icon-info"></i>
                            <br>关于
                        </a>
                    </div>
                    <div class="contact">
                        <a href="https://github.com/tangxiangmin" target="_blank" class="contact_link">
                            <i class="iconfont icon-github"></i> GitHub</a>
                        <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=645234650&amp;site=qq&amp;menu=yes"
                            target="_blank" class="contact_link">
                            <i class="iconfont icon-qq"></i> QQ</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="tool">
        <div class="btn-list hide-md" id="J_toggleSide">
            <div class="btn-icon">
                <span class="btn-line"></span>
                <span class="btn-line"></span>
                <span class="btn-line"></span>
            </div>
        </div>
        <div class="btn-top">
            <i class="iconfont icon-top"></i>
        </div>
    </div>
</aside>
    <footer class="page_ft">
    <div class="container footer">
        <p>世人的悲欢并不相通，我只是觉得他们吵闹。</p>
        <p>
            Copyright © Shymean 2016 - 2017
            <a href="http://www.miitbeian.gov.cn" rel="nofollow" target="_blank" style="display:inline-block;">粤ICP备17060238号-1</a>
        </p>
    </div>
    <div class="hide-xs">
        <script src="https://s19.cnzz.com/z_stat.php?id=1264491168&amp;web_id=1264491168" language="JavaScript"></script>
    </div>
</footer>

</div>

</body>
</html>