<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="/css/blog.css">
    <link rel="stylesheet" href="/css/fonts/iconfont.css">
    <!--<link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">-->
    <link rel="stylesheet" href="//cdn.bootcss.com/fancybox/3.1.25/jquery.fancybox.min.css">
    <script src="/js/require.js" data-main="/js/main"></script>
</head>
<body>
<div id="blog" class="page page-theme-base" v-cloak>
    <blog-header></blog-header>
    <header class="page_hd" data-v-04342fbc="">
    <div class="container header" data-v-04342fbc="">
        <h1 class="logo" data-v-04342fbc="">
            <a href="/" class="nuxt-link-exact-active nuxt-link-active" data-v-04342fbc="">橙红年代</a>
        </h1>
        <div class="show-md" data-v-04342fbc="">
            <div class="btn-list" data-v-04342fbc="">
                <div class="btn-icon" data-v-04342fbc="">
                    <span class="btn-line" data-v-04342fbc=""></span>
                    <span class="btn-line" data-v-04342fbc=""></span>
                    <span class="btn-line" data-v-04342fbc=""></span>
                </div>
            </div>
        </div>
        <nav class="nav-responsive" data-v-04342fbc="">
            
            <a class="nav_item" href="/">首页</a>
            
            <a class="nav_item" href="/archives">归档</a>
            
            <a class="nav_item" href="/tags">标签</a>
            
            <a class="nav_item" href="/test">Test</a>
            
        </nav>
    </div>
</header>
    <main class="page_mn" >
        <div class="container">
            <article class="article article-detail">
    <header class="text-center">
        <h2 class="article_hd">Github协作开发流程</h2>
        <div class="article_info">
            <span class="hide-sm">发表于</span>
            <span class="show-sm">
                <i class="iconfont icon-archives"></i>
            </span>
            <time>2017/5/23 22:16:50</time>
            |
            <span class="hide-sm">分类于</span>
            <span class="show-sm"><i class="iconfont icon-tag"></i></span>
            
                <a href="/categories/工具" class="hover-highlight">工具</a>
            

        </div>
    </header>
    <div class="article_ct">
        <p>去年三月份开始正儿八经的写代码，顺手注册了一个<code>github</code>账号，但是基本上都只是当作一个U盘使用，没有正式与其他人协作开发的经验。恰逢最近需要，因此回过头来整理一下<code>github</code>的使用经验，以及正确的团队协作开发流程。</p>
<a id="more"></a>
<p>首先需要明白的是<code>git</code>和<code>github</code>并不是一回事，前者是<strong>分布式版本控制系统</strong>，后者是一个基于<code>git</code>的<strong>代码托管平台</strong>。</p>
<p>对此我的理解是：</p>
<ul>
<li><code>git</code>可以让我们在本地管理代码版本，比如回滚代码，在新的分支上开发新功能（换句话我，我们可以在离线的情况下更新代码版本）</li>
<li><code>github</code>可以让我们远程管理我们的代码，也可以让我们参与团队协作</li>
</ul>
<p>具体怎么安装<code>git</code>这个就不说了，教程一抓一大把。参考：</p>
<ul>
<li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137396287703354d8c6c01c904c7d9ff056ae23da865a000" target="_blank" rel="external">廖雪峰-git教程</a>，我最开始就是跟着廖老师一步一步学习使用git的</li>
<li><a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="external">git - 简明指南</a></li>
<li><a href="https://git-scm.com/book/zh/v2" target="_blank" rel="external">Pro Git</a></li>
</ul>
<h2 id="本地仓库"><a href="#本地仓库" class="headerlink" title="本地仓库"></a>本地仓库</h2><h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><p>使用<code>git</code>需要先初始化代码仓库，可以使用<code>git init</code>，也可以<code>git clone</code>等方式，会生成一个<code>.git</code>目录。</p>
<p>在<code>git</code>仓库中的任何一个文件，都只有3种状态：</p>
<ul>
<li><code>modified</code>，已修改，表示修改了某个文件，但还没有提交保存</li>
<li><code>staged</code>，已暂存，表示已修改的文件放在下次提交时要保存的清单中</li>
<li><code>committed</code>，已提交，表示该文件已经被安全地保存在本地数据库 中</li>
</ul>
<p>上面有一个“暂存”的概念，实际上只是一个简单的文件，该文件同样存放在<code>.git</code>目录中，一般称为索引文件或者暂存区域</p>
<p>使用<code>git</code>基本的工作流程是</p>
<ul>
<li>修改某些文件</li>
<li><code>git add</code>，对修改的文件进行快照，然后保存到暂存区域</li>
<li><code>git commit -m &quot;commit info&quot;</code> ，确认提交更新，将保存在暂存区域中的文件永久存储在<code>Git</code>目录下</li>
</ul>
<h3 id="常用功能"><a href="#常用功能" class="headerlink" title="常用功能"></a>常用功能</h3><p>在工作过程中，会使用到下面的常用功能：</p>
<ul>
<li><code>git status</code>，检测当前文件状态</li>
<li><code>.gitigore</code>，忽略某些不想被<code>git</code>管理的文件，比如<code>node_modules</code></li>
<li><code>git diff</code>，查看已暂存和未暂存的修改</li>
<li><code>git rm</code>，将文件从已跟踪文件清单中（更准确的说法是从暂存区域移除）</li>
<li><code>git log</code>，查看历史提交记录</li>
<li><code>git commit --amend</code>，撤销提交操作</li>
</ul>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>可以看见，上述操作都是可以在离线状态下进行的，至于如何实现团队协作开发，就必须先了解远程仓库了。</p>
<h2 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h2><p>远程仓库指的是将本地的代码推送到第三方服务器上进行托管，比如最著名的<code>github</code>。与他人协作涉及管理远程仓库以及根据需要推送或拉取数据。</p>
<h3 id="操作远程仓库"><a href="#操作远程仓库" class="headerlink" title="操作远程仓库"></a>操作远程仓库</h3><p>如果初始化远程仓库</p>
<ul>
<li><code>git remote add origin XXX@XXX.git</code>，添加远程仓库</li>
<li><code>git push origin master</code>，将本地仓库推送到远程仓库</li>
</ul>
<p>可以使用<code>git remote</code>查看连接的远程仓库名称，默认为<code>origin</code></p>
<p>接下来就可以在其他地方连接远程仓库获取代码了</p>
<ul>
<li><code>git clone git@xxx/xxx.git</code>，克隆远程仓库</li>
<li>做一些修改</li>
<li><code>git push orgin master</code>，将改动推送到远程仓库，</li>
<li><code>git pull origin master</code>，获取最新的远程仓库，</li>
</ul>
<h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>分支相当于复制当前仓库，并在复制的镜像文件上进行修改，避免频繁的修改导致版本难以追踪同时也让我们拥有了相对独立的开发环境。<br>如果把每次<code>commit</code>的时间线连接起来就构成了一个分支：</p>
<ul>
<li>没有分支，需要追踪每一次<code>commit</code>，</li>
<li>有分支，追踪每个分支，每个分支可独立追踪每次的<code>commit</code></li>
</ul>
<p>也就是说，构成分支的时间线不宜过长（指提交的次数不宜过多，时间跨度则可以很长）</p>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><p>分支可分为本地分支和远程分支两大类</p>
<ul>
<li><code>git branch</code>查看本地所有分支，</li>
<li><code>git branch -a</code>查看本地和远程仓库上的所有分支（远程分支用红色标识）</li>
</ul>
<h3 id="操作分支"><a href="#操作分支" class="headerlink" title="操作分支"></a>操作分支</h3><p>下面是一个在分支上开发新功能的操作流程</p>
<ul>
<li><code>git branch feature_1</code>，新建一个<code>feature_1</code>的分支</li>
<li><code>git checkout feature_1</code>，切换到分支，并在该分支上进行相关操作（PS：上述两个步骤可使用快捷方式<code>git checkout -b feature_1</code>操作）<ul>
<li>基于当前分支开发一些内容</li>
<li><code>git add .</code></li>
<li><code>git commit -m &quot;finish&quot;</code>提交分支改动</li>
</ul>
</li>
<li><code>git checkout master</code>，切回主分支</li>
<li><code>git merge feature_1</code>，将分支改动合并到主分支，可能需要解决冲突</li>
<li><code>git branch -d feature_1</code>，功能开发完成，删除相关分支</li>
</ul>
<p>需要注意的是：</p>
<ul>
<li>实际上在工作中一般是不会直接把功能分支推送到<code>master</code>上的，下面会提到</li>
<li>合并分支的时候，可以使用<code>git diff feature_1 master</code>来对比两个分支的差异。</li>
</ul>
<h3 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h3><p>下面的分支管理策略是在别人推荐的，决定在工作中进行逐步尝试：</p>
<ul>
<li><code>master</code>永久性分支，用于发布新的版本，<code>master</code>所有代码更新应该源于合并<code>develop</code>的代码。</li>
<li><code>develop</code>开发分支，相当于是<code>master</code>的真身，用于管理开发版</li>
<li>暂时性分支，源于<code>develop</code>分支，归并与<code>develop</code>分支，且一定会被删除<ul>
<li><code>feature</code>，新功能分支，一般命名为<code>feature_*</code></li>
<li><code>release</code>，预发布分支，一般命名为<code>release-*</code></li>
<li><code>hotfix</code>，修复bug分支，一般命名为<code>hotfix-*</code></li>
</ul>
</li>
</ul>
<h2 id="分布式-Git"><a href="#分布式-Git" class="headerlink" title="分布式 Git"></a>分布式 Git</h2><p>分布式协作已衍生出多种工作流。</p>
<h3 id="集中式工作流"><a href="#集中式工作流" class="headerlink" title="集中式工作流"></a>集中式工作流</h3><p>核心一个集中的代码仓库，所有开发者与之关联同步，这意味着在多个开发者均做出修改之后，只有第一个开发者可以顺利把修改推送回代码库，其他开发者在推送之前必须将前面的开发者的修改合并进来。</p>
<p>现在的开发流程就是基于这种模式进行的，不过我们都是在各自的分支上进行开发，定期合并到<code>develop</code>分支上。</p>
<h3 id="集成管理者工作流"><a href="#集成管理者工作流" class="headerlink" title="集成管理者工作流"></a>集成管理者工作流</h3><p><code>git</code>允许多个远程仓库存在，在这种情况下，每个开发者都用于自己仓库的写权限和其他开发者仓库的读权限，一般存在一个官方权威的仓库，要为这个仓库做贡献，则需要自己克隆一个仓库进行修改，然后把自己的修改推送到自己的远程仓库，最后申请官方拉取你做的更新（一般官方会进行检测）。<br>在<code>github</code>上，上面的描述就是<code>fork</code>操作。</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>曾经我也喜欢打卡墙上一片绿，表明自己坚持在学习，这个初衷是正确的，但是到了后面某些时候，却出现了为了打卡而打卡，上传了一些毫无价值的代码，这跟我的最初目的完全背道而驰了。在今后的日子里，我会注意这个问题的。</p>

    </div>
    <footer class="article_ft">
        
        <a href="/tags/github" class="article_tag">#github</a>
        
    </footer>

    <div class="article_nav"><a href="/article/mockjs使用心得" class="hover-highlight article_prev">mockjs使用心得</a><a
                href="/article/博客SSR实践总结" class="hover-highlight article_next">博客SSR实践总结</a></div>
</article>
        </div>
    </main>

    <aside>
    <div class="page_sd hide-md">
        <div class="tab">
            <!---->
            
            <ul class="tab_nav">
                <li class="tab_item active" data-target="#J_toc">
                    文章目录
                </li>
                <li class="tab_item" data-target="#J_profile">
                    站点资料
                </li>
            </ul>
            <div class="tab_panel active" id="J_toc">
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#本地仓库"><span class="toc-number">1.</span> <span class="toc-text">本地仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#工作流程"><span class="toc-number">1.1.</span> <span class="toc-text">工作流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常用功能"><span class="toc-number">1.2.</span> <span class="toc-text">常用功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#小结"><span class="toc-number">1.3.</span> <span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#远程仓库"><span class="toc-number">2.</span> <span class="toc-text">远程仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#操作远程仓库"><span class="toc-number">2.1.</span> <span class="toc-text">操作远程仓库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分支"><span class="toc-number">3.</span> <span class="toc-text">分支</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#概念"><span class="toc-number">3.1.</span> <span class="toc-text">概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分类"><span class="toc-number">3.2.</span> <span class="toc-text">分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#操作分支"><span class="toc-number">3.3.</span> <span class="toc-text">操作分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#分支管理"><span class="toc-number">3.4.</span> <span class="toc-text">分支管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分布式-Git"><span class="toc-number">4.</span> <span class="toc-text">分布式 Git</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#集中式工作流"><span class="toc-number">4.1.</span> <span class="toc-text">集中式工作流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#集成管理者工作流"><span class="toc-number">4.2.</span> <span class="toc-text">集成管理者工作流</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#最后"><span class="toc-number">5.</span> <span class="toc-text">最后</span></a></li></ol>
            </div>
            
            <div class="tab_panel " id="J_profile">
                <div>
                    <div class="me">
                        <img src="http://shymean.com/_nuxt/img/head.dd612ee.jpg" alt="shymean" width="100" height="100">
                        <h3>shymean</h3>
                        <p>一个不学无术且无趣的人。</p>
                    </div>
                    <div class="nav-border">
                        <a href="/book" class="nav_item">
                            <i class="iconfont icon-bookshelf"></i>
                            <br>书架
                        </a>
                        <a href="/message" class="nav_item">
                            <i class="iconfont icon-comment"></i>
                            <br>留言
                        </a>
                        <a href="/about" class="nav_item">
                            <i class="iconfont icon-info"></i>
                            <br>关于
                        </a>
                    </div>
                    <div class="contact">
                        <a href="https://github.com/tangxiangmin" target="_blank" class="contact_link">
                            <i class="iconfont icon-github"></i> GitHub</a>
                        <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=645234650&amp;site=qq&amp;menu=yes"
                            target="_blank" class="contact_link">
                            <i class="iconfont icon-qq"></i> QQ</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="tool">
        <div class="btn-list hide-md" id="J_toggleSide">
            <div class="btn-icon">
                <span class="btn-line"></span>
                <span class="btn-line"></span>
                <span class="btn-line"></span>
            </div>
        </div>
        <div class="btn-top">
            <i class="iconfont icon-top"></i>
        </div>
    </div>
</aside>
    <footer class="page_ft">
    <div class="container footer">
        <p>世人的悲欢并不相通，我只是觉得他们吵闹。</p>
        <p>
            Copyright © Shymean 2016 - 2017
            <a href="http://www.miitbeian.gov.cn" rel="nofollow" target="_blank" style="display:inline-block;">粤ICP备17060238号-1</a>
        </p>
    </div>
    <div class="hide-xs">
        <script src="https://s19.cnzz.com/z_stat.php?id=1264491168&amp;web_id=1264491168" language="JavaScript"></script>
    </div>
</footer>

</div>

</body>
</html>